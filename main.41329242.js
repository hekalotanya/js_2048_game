parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function r(r){return a(r)||n(r)||t(r)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r,e){if(r){if("string"==typeof r)return o(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(r,e):void 0}}function n(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}function a(r){if(Array.isArray(r))return o(r)}function o(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}for(var s=document.querySelector(".button"),i=r(document.querySelectorAll(".field-row")),c=[],f=0,u=document.querySelector(".game-score"),l=document.querySelector(".message-lose"),d=document.querySelector(".message-win"),v=0;v<4;v++)c.push([0,0,0,0]);function m(){c.includes(2048)&&(d.className="message message-win");for(var e=0;e<4;e++)for(var t=r(i[e].children),n=0;n<4;n++)if(0===c[e][n])t[n].textContent="",t[n].className="field-cell";else{var a=c[e][n];t[n].textContent=a,t[n].className="field-cell field-cell--".concat(a)}u.textContent=f}var h=function(){var r,e,t=[2,2,2,2,2,2,2,2,2,4];do{r=Math.floor(4*Math.random()),e=Math.floor(4*Math.random())}while(0!==c[r][e]);var n=Math.floor(Math.random()*t.length);c[r][e]=t[n]},y=function(r){for(var e=[],t=0;t<4;t++){for(var n=[],a=3;a>-1;a--)n.push(r[a][t]);e.push(n)}return e},g=function(r){for(var e=[],t=3;t>-1;t--){for(var n=[],a=0;a<4;a++)n.push(r[a][t]);e.push(n)}return e},p=function(r){for(var e=0;e<4;e++)for(var t=0;t<3;t++)if(r[e][t]===r[e][t+1])return!0;return!1},b=function(r){for(var e=y(r),t=0;t<4;t++)for(var n=0;n<3;n++)if(e[t][n]===e[t][n+1])return!0;return!1},L=function(r,e){for(var t=0;t<4;t++)for(var n=0;n<4;n++)if(r[t][n]!==e[t][n])return!1;return!0};s.addEventListener("click",function(){s.classList.contains("restart")?(l.classList.add("hidden"),d.classList.add("hidden"),f=0,c.map(function(r){for(var e=0;e<r.length;e++)r[e]=0})):(h(),h()),s.classList.toggle("start"),s.classList.toggle("restart"),document.querySelector(".message-start").classList.toggle("hidden"),s.classList.contains("start")?s.textContent="Start":s.textContent="Restart",m()}),document.addEventListener("keyup",function(r){for(var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],t=0;t<4;t++)for(var n=0;n<4;n++)e[t][n]=c[t][n];if(d.classList.contains("hidden")){var a=c.flat();if(a.includes(0)||!1===p(c)&&!1===b(c)&&(l.className="message message-lose"),l.classList.contains("hidden")&&!s.classList.contains("start")){for(var o=0;o<4;o++){var i=y(c),u=[];switch(r.keyCode){case 37:if(!a.includes(0)&&!1===p(c))return;for(var v=1;v<4;v++)if((0!==c[o][v]||0!==c[o][v-1])&&0!==c[o][v]){for(var S=0;S<v;S++)0===c[o][S]&&(c[o][S]=c[o][v],c[o][v]=0,v=S);if(c[o][v]===c[o][v-1]){if(u.includes([o,v-1]))continue;c[o][v-1]+=c[o][v],c[o][v]=0,u.push([o,v-1]),f+=c[o][v-1]}}break;case 39:if(!a.includes(0)&&!1===p(c))return;for(var w=2;w>-1;w--)if((0!==c[o][w]||0!==c[o][w+1])&&0!==c[o][w]){for(var A=3;A>w;A--)0===c[o][A]&&(c[o][A]=c[o][w],c[o][w]=0,w=A);c[o][w]!==c[o][w+1]||(c[o][w+1]+=c[o][w],c[o][w]=0,f+=c[o][w+1])}break;case 38:if(!a.includes(0)&&!1===b(c))return;if(!1===b(c))return;for(var C=2;C>-1;C--)if((0!==i[o][C]||0!==i[o][C+1])&&0!==i[o][C]){for(var M=3;M>C;M--)0===i[o][M]&&(i[o][M]=i[o][C],i[o][C]=0,C=M);i[o][C]!==i[o][C+1]||(i[o][C+1]+=i[o][C],i[o][C]=0,f+=i[o][C+1])}c=g(i);break;case 40:if(!a.includes(0)&&!1===b(c))return;for(var k=1;k<4;k++)if((0!==i[o][k]||0!==i[o][k-1])&&0!==i[o][k]){for(var q=0;q<k;q++)0===i[o][q]&&(i[o][q]=i[o][k],i[o][k]=0,k=q);if(i[o][k]===i[o][k-1]){if(u.includes([o,k-1]))continue;i[o][k-1]+=i[o][k],i[o][k]=0,u.push([o,k-1]),f+=i[o][k-1]}}c=g(i)}}m(),!0!==L(e,c)&&(h(),m())}}});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.41329242.js.map